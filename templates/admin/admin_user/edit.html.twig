{% extends 'base.html.twig' %}

{% block title %}Edit User
{% endblock %}
{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('assets/css/formSymfony.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/profile/profilePasswordSwitch.css') }}">
{% endblock %}
{% block body %}
<div class="formContainer">
    <h1>Edit User</h1>

    {{ include('admin/admin_user/_form.html.twig', {'button_label': 'Update'}) }}

    <a href="{{ path('app_admin_user_index') }}">back to list</a>

    {{ include('admin/admin_user/_delete_form.html.twig') }}
</div>
{#
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"></script> #}
{% endblock %}
{% block optionals_script %}
<script>
    $(document).ready(function () {
        $('.select2-multi').select2();
    });

    document.querySelector('.switch-input').addEventListener('change', function (event) {
        let passwordFields = document.getElementById('password-fields');
        let passwordInput = document.getElementById('user_plainPassword_first');
        let confirmPasswordInput = document.getElementById('user_plainPassword_second');
        if (event.target.checked) {
            passwordFields.style.maxHeight = passwordFields.scrollHeight + "px";
            // console.log(passwordFields.style.maxHeight)
        } else {
            passwordFields.style.maxHeight = '0';
            passwordFields.style.maxHeight = '0';
            passwordInput.value = '';
            confirmPasswordInput.value = '';
            console.log(passwordFields.style.maxHeight, passwordInput.value, confirmPasswordInput.value)
        }
    });
</script>
{% endblock %}